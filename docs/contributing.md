# å¼€å‘è´¡çŒ®æŒ‡å— / Contributing Guide

æ„Ÿè°¢ä½ å¯¹ Slive çš„å…³æ³¨ï¼æ¬¢è¿å„ç§å½¢å¼çš„è´¡çŒ®ï¼Œæ— è®ºæ˜¯ä¿®å¤ bugã€æ·»åŠ æ–°åŠŸèƒ½ã€æ”¹è¿›æ–‡æ¡£è¿˜æ˜¯æå‡ºå»ºè®®ã€‚
## è´¡çŒ®é¡»çŸ¥
- å› ä¸ºä¸€äº›åŸå› ï¼Œ**dev** ä½œä¸ºGithub Flowå¼€å‘æµç¨‹çš„ä¸»å¹²
- **master** åˆ†æ”¯å‘ç‰ˆæ—¶ é€šè¿‡ merge squash devï¼Œä¼šåœ¨åœæ›´æ—¶åˆ é™¤devåˆ†æ”¯å¹¶è„±æ•
- æ‰€ä»¥ä»“åº“çš„è´¡çŒ®è€…åŒ…æ‹¬è´¡çŒ®ä»£ç ç»Ÿè®¡éƒ½æ˜¯ä¸å­˜åœ¨çš„

## ğŸ¯ è´¡çŒ®ç±»å‹

æ¬¢è¿ä»¥ä¸‹ç±»å‹çš„è´¡çŒ®ï¼š

### ğŸ› ä¿®å¤ Bug
- åœ¨ Issues ä¸­æŸ¥æ‰¾æ ‡è®°ä¸º `bug` çš„é—®é¢˜
- å¦‚æœå‘ç°æ–°çš„ bugï¼Œè¯·å…ˆ[åˆ›å»º Issue](https://github.com/SlotSun/dart_simple_live/issues/new/choose) æè¿°é—®é¢˜

### âœ¨ æ·»åŠ æ–°åŠŸèƒ½
- æŸ¥æ‰¾æ ‡è®°ä¸º `enhancement`çš„ Issue
- å¯¹äºè¾ƒå¤§çš„åŠŸèƒ½ï¼Œå»ºè®®å…ˆåˆ›å»º Issue è®¨è®ºè®¾è®¡æ–¹æ¡ˆ

### ğŸ“– æ”¹è¿›æ–‡æ¡£
- ä¿®å¤æ–‡æ¡£ä¸­çš„é”™è¯¯æˆ–ä¸æ¸…æ™°çš„åœ°æ–¹
- æ·»åŠ ä½¿ç”¨ç¤ºä¾‹å’Œæœ€ä½³å®è·µ

### ğŸ§ª æ·»åŠ æµ‹è¯•
- ä¸ºç°æœ‰åŠŸèƒ½æ·»åŠ å•å…ƒæµ‹è¯•
- æ”¹è¿›æµ‹è¯•è¦†ç›–ç‡
- æ·»åŠ é›†æˆæµ‹è¯•

### ğŸ¨ UI/UX æ”¹è¿›
- ä¼˜åŒ–ç•Œé¢äº¤äº’ä½“éªŒ
- ä¿®å¤ç•Œé¢æ ·å¼é—®é¢˜
- æå‡æ˜“ç”¨æ€§

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚

ç¡®ä¿ä½ çš„ç¯å¢ƒä¸­å·²å®‰è£…ï¼š 

- **Flutter 3.38.6^**
- **Rust 1.28^**
- **Visual Studio**

### å®‰è£… FVM

```bash
# macOS/Linux
curl -sL https://install.fvm.sh | bash

# Windows
choco install fvm
```

### å®‰è£… Flutter

```bash
# windows
fvm version
fvm list
fvm install 3.38.6
```

**Linux**
[è¯¦è§å®˜ç½‘æ•™ç¨‹](https://docs.flutter.dev/install/manual)

### å…‹éš†ä»“åº“

```bash
git clone https://github.com/SlotSun/dart_simple_live.git
cd dart_simple_live/simple_live_app
```

## ğŸ·ï¸ è®¤é¢†ä»»åŠ¡

### æŸ¥æ‰¾ä»»åŠ¡

1. æµè§ˆ [Issues é¡µé¢](https://github.com/SlotSun/dart_simple_live/issues)
2. æŸ¥æ‰¾å¸¦æœ‰ä»¥ä¸‹æ ‡ç­¾çš„ Issueï¼š
    - `help wanted` - éœ€è¦ç¤¾åŒºå¸®åŠ©çš„ä»»åŠ¡
    - `bug` - Bug ä¿®å¤
    - `enhancement` - åŠŸèƒ½å¢å¼º

### è®¤é¢†æµç¨‹

åœ¨ä½ æƒ³è¦å¤„ç†çš„ Issue ä¸‹è¯„è®ºï¼š
```
/assign me
```

æˆ–è€…ï¼š
```
æˆ‘å¯ä»¥è§£å†³æ­¤é—®é¢˜
```


## ğŸ’» æœ¬åœ°å¼€å‘

### 1. å®‰è£…ä¾èµ–

**Flutterä¾èµ–**ï¼š
```bash
fvm use 3.38.6
# å®‰è£…Flutter_rust_bridge
cargo install flutter_rust_bridge_codegen
flutter pub get
```

### 2. å¯åŠ¨å¼€å‘æœåŠ¡å™¨

**å¯åŠ¨APP**ï¼ˆæ”¯æŒçƒ­é‡è½½ï¼‰ï¼š
```bash
flutter run
```

### 3. æ„å»ºé¡¹ç›®

**å®‰è£… fastforge**
```bash
git clone https://github.com/SlotSun/fastforge.git
cd fastforge
dart pub global activate melos
melos run activate
```
**Windows-å®‰è£… innosetup**
```bash
# æ‰“åŒ… windows
choco install innosetup
```
**æ„å»ºAPP**ï¼š
```bash
# bash in simple_live_app
cd simple_live_app
# æ‰“åŒ… windows
fastforge package --platform windows --targets msix,zip,exe --skip-clean
# Linux
fastforge package --platform linux --targets deb,zip --skip-clean
# Android-need key
flutter build apk --release --split-per-abi
```

## ğŸ“ ä»£ç ç»“æ„

### é¡¹ç›®ç›®å½•é€Ÿè§ˆ
- `simple_live_core` é¡¹ç›®æ ¸å¿ƒåº“ï¼Œå®ç°è·å–å„ä¸ªç½‘ç«™çš„ä¿¡æ¯åŠå¼¹å¹•ã€‚
- `simple_live_console` åŸºäºsimple_live_coreçš„æ§åˆ¶å°ç¨‹åºã€‚
- `simple_live_app` åŸºäºæ ¸å¿ƒåº“å®ç°çš„Flutter APPå®¢æˆ·ç«¯ã€‚
- `simple_live_tv_app` åŸºäºæ ¸å¿ƒåº“å®ç°çš„Flutter Android TVå®¢æˆ·ç«¯ã€‚

### æŠ€æœ¯æ ˆ

**Flutter**ï¼š
- GetX(çŠ¶æ€ç®¡ç†ã€è·¯ç”±)
- Hive(æŒä¹…åŒ–)
- Dio(å®æ—¶é€šä¿¡)

## ğŸ“ æäº¤è§„èŒƒ

æˆ‘ä»¬éµå¾ª [Conventional Commits](https://www.conventionalcommits.org/) è§„èŒƒï¼š

### Commit æ ¼å¼

```
<ç±»å‹>(<èŒƒå›´>): <ç®€çŸ­æè¿°>

[å¯é€‰çš„è¯¦ç»†æè¿°]

[å¯é€‰çš„è„šæ³¨]
```

### ç±»å‹ (Type)

- `feat`: æ–°åŠŸèƒ½
- `fix`: Bug ä¿®å¤
- `docs`: æ–‡æ¡£å˜æ›´
- `style`: ä»£ç æ ¼å¼è°ƒæ•´ï¼ˆä¸å½±å“åŠŸèƒ½ï¼‰
- `refactor`: é‡æ„ï¼ˆæ—¢ä¸æ˜¯æ–°åŠŸèƒ½ä¹Ÿä¸æ˜¯ bug ä¿®å¤ï¼‰
- `perf`: æ€§èƒ½ä¼˜åŒ–
- `test`: æ·»åŠ æˆ–ä¿®æ”¹æµ‹è¯•
- `chore`: è¾…åŠ©å·¥å…·çš„å˜åŠ¨
- `ci`: æ„å»ºè¿‡ç¨‹çš„å˜åŠ¨

### èŒƒå›´ (Scope)

å¯é€‰ï¼ŒæŒ‡æ˜æ”¹åŠ¨çš„æ¨¡å—ï¼š
- `platfrom` - ç›´æ’­å¹³å°
- `Windows/Linux/Android` - ç”¨æˆ·å¹³å°
- `ui` - ç”¨æˆ·ç•Œé¢
- `ci` - æ„å»ºç³»ç»Ÿ
- `docs` - æ–‡æ¡£

### ç¤ºä¾‹

```bash
feat(api): add layered agent support
```

## ğŸ” Pull Request è¦æ±‚
### PR æµç¨‹
```bash
git clone https://github.com/SlotSun/dart_simple_live.git
# åŸºäºdevåˆ†æ”¯åˆ›å»º Type-Scopeçš„åˆ†æ”¯
git checkout -b fix-xx origin/dev
```
**å®Œæˆæµ‹è¯•åï¼Œå‘ä¸»ä»“åº“çš„devåˆ†æ”¯æäº¤pr**
### æäº¤å‰æ£€æŸ¥æ¸…å•

- [ ] ä»£ç é€šè¿‡æ ¼å¼æ£€æŸ¥
- [ ] å¯¹äºæ–°åŠŸèƒ½ï¼Œæ·»åŠ äº†ç›¸åº”çš„æ–‡æ¡£è¯´æ˜
- [ ] å¯¹äº UI æ”¹åŠ¨ï¼Œæä¾›äº†æˆªå›¾æˆ–å½•å±
- [ ] Commit ä¿¡æ¯éµå¾ªè§„èŒƒæ ¼å¼
- [ ] PR æè¿°æ¸…æ™°è¯´æ˜äº†æ”¹åŠ¨å†…å®¹å’ŒåŸå› 

### PR æ ‡é¢˜æ ¼å¼

PR æ ‡é¢˜åº”è¯¥ç®€æ´æ˜äº†ï¼Œå»ºè®®æ ¼å¼ï¼š

```
<ç±»å‹>: <ç®€çŸ­æè¿°>
```

ä¾‹å¦‚ï¼š
- `feat: add WiFi device pairing support`
- `fix: resolve video stream crash on device disconnect`
- `docs: improve quick start guide`

### PR æè¿°æ¨¡æ¿

æäº¤ PR æ—¶ï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹æ¨¡æ¿ï¼š

```markdown
## æ”¹åŠ¨è¯´æ˜

<!-- ç®€è¦æè¿°è¿™ä¸ª PR åšäº†ä»€ä¹ˆ -->

## ç›¸å…³ Issue

<!-- å…³è”çš„ Issue ç¼–å·ï¼Œå¦‚ Closes #123 -->

## æ”¹åŠ¨ç±»å‹

- [ ] Bug ä¿®å¤
- [ ] æ–°åŠŸèƒ½
- [ ] æ–‡æ¡£æ›´æ–°
- [ ] ä»£ç é‡æ„
- [ ] æ€§èƒ½ä¼˜åŒ–
- [ ] å…¶ä»–ï¼ˆè¯·è¯´æ˜ï¼‰

## æµ‹è¯•è¯´æ˜

<!-- å¦‚ä½•æµ‹è¯•è¿™äº›æ”¹åŠ¨ï¼Ÿ -->

## æˆªå›¾/å½•å±

<!-- å¯¹äº UI æ”¹åŠ¨ï¼Œè¯·æä¾›æˆªå›¾æˆ–å½•å± -->

## å…¶ä»–è¯´æ˜

<!-- å…¶ä»–éœ€è¦è¯´æ˜çš„å†…å®¹ -->
```

### Code Review

æäº¤ PR åï¼š
1. ç»´æŠ¤è€…ä¼šå®¡æŸ¥ä½ çš„ä»£ç 
2. å¯èƒ½ä¼šæå‡ºæ”¹è¿›å»ºè®®
3. è¯·åŠæ—¶å›å¤è¯„è®ºå¹¶æ ¹æ®åé¦ˆè°ƒæ•´ä»£ç 
4. æ‰€æœ‰è®¨è®ºè§£å†³åï¼ŒPR ä¼šè¢«åˆå¹¶

## ğŸ¤ è¡Œä¸ºå‡†åˆ™

### æˆ‘ä»¬çš„æ‰¿è¯º

ä¸ºäº†è¥é€ ä¸€ä¸ªå¼€æ”¾å’Œå‹å¥½çš„ç¯å¢ƒï¼Œæˆ‘ä»¬æ‰¿è¯ºï¼š

- å°Šé‡ä¸åŒçš„è§‚ç‚¹å’Œç»éªŒ
- ä¼˜é›…åœ°æ¥å—å»ºè®¾æ€§æ‰¹è¯„
- å…³æ³¨å¯¹ç¤¾åŒºæœ€æœ‰åˆ©çš„äº‹æƒ…
- å¯¹å…¶ä»–ç¤¾åŒºæˆå‘˜è¡¨ç¤ºåŒç†å¿ƒ

### ä¸å¯æ¥å—çš„è¡Œä¸º

ä»¥ä¸‹è¡Œä¸ºè¢«è§†ä¸ºä¸å¯æ¥å—ï¼š

- ä½¿ç”¨æ€§åˆ«åŒ–çš„è¯­è¨€æˆ–å›¾åƒï¼Œä»¥åŠä¸å—æ¬¢è¿çš„æ€§å…³æ³¨
- éªšæ‰°æ€§è¯„è®ºã€ä¾®è¾±æ€§/è´¬æŸæ€§è¯„è®ºï¼Œä»¥åŠäººèº«æˆ–æ”¿æ²»æ”»å‡»
- å…¬å¼€æˆ–ç§ä¸‹éªšæ‰°
- æœªç»æ˜ç¡®è®¸å¯ï¼Œå‘å¸ƒä»–äººçš„ç§äººä¿¡æ¯
- å…¶ä»–åœ¨ä¸“ä¸šç¯å¢ƒä¸­å¯èƒ½è¢«è®¤ä¸ºä¸é€‚å½“çš„è¡Œä¸º

## ğŸ‰ æ„Ÿè°¢è´¡çŒ®

æ„Ÿè°¢ä½ èŠ±æ—¶é—´ä¸º Slive åšå‡ºè´¡çŒ®ï¼ä½ çš„åŠªåŠ›è®©è¿™ä¸ªé¡¹ç›®å˜å¾—æ›´å¥½ã€‚

æœ‰ä»»ä½•é—®é¢˜ï¼Ÿæ¬¢è¿ï¼š
- åœ¨ [Issues](https://github.com/SlotSun/dart_simple_live/issues) æé—®

---